extern "js" fn ffi_promise_resolve(x : Value) -> Value = "(x) => Promise.resolve(x)"
extern "js" fn ffi_promise_reject(e : Error) -> Value = "(x) => Promise.reject(x)"
extern "js" fn ffi_promise_then(x : Value, ok : (Value) -> Value, err : (Error) -> Value) -> Value = "(x,f,g) => x.then(f,g)"
extern "js" fn ffi_promise_catch(x : Value, err : (Error) -> Value) -> Value = "(x,f) => x.catch(f)"
extern "js" fn ffi_is_promise(x : Value) -> Bool = "(p) => !!p && typeof p.then === 'function'"
